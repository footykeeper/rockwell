function fifaBadge(e){var o=e.getContext("2d"),i=document.getElementById("gold-card");o.drawImage(i,0,0),this.points=function(e){o.font="25px Arial",o.fillText(e,3,70)},this.name=function(e){o.font="15px Arial",o.fillText(e,35,135)},this.position=function(e){o.font="15px Arial",o.fillText(e,2,90)},this.clear=function(){o.clearRect(0,0,156,250),o.drawImage(i,0,0)}}function makeInputTable(e){var o,i=$("#inputTable"),n="";if(void 0===e){for(o=0;o<players.length;o++)o%3==0?n+='<tr class="w3-container"><td class="w3-container w3-center w3-white"><canvas class="fifabadge" width="156px" height="250px"></canvas><br/><select class="event"><option value="null" hidden selected>Select Event</option><option value="goal" class="w3-green">Goal</option><option value="assist" class="w3-green">Assist</option><option value="keypass">Key Pass</option><option value="shotontarget">Shot on Target</option><option value="cross">Successful Cross</option><option value="dribble">Successful Dribble</option><option value="dispossesion">Dispossesion</option><option value="own" class="w3-red">Own Goal</option><option value="save">Save</option><option value="interception">Interception</option><option value="tackle">Tackle Won</option><option value="pk" class="w3-green">Penalty Saved</option><option value="yellow" class="w3-yellow">Yellow Card</option><option value="second" class="w3-yellow">Second Yellow</option><option value="red" class="w3-red">Red Card</option><option value="aerial">Aerial Won</option><option value="clear">Effective Clearance</option></select><br/><br/><select class="position"><option value="null" hidden selected>Select Position</option><option value="for">Forward</option><option value="mid">Midfielder</option><option value="def">Defender</option><option value="gk">Goalkeeper</option><option value="sub">Sub</option></select></td>':o%3!=0&&(n+='<td class="w3-container w3-center w3-white"><canvas class="fifabadge" width="156px" height="250px"></canvas><br/><select class="event"><option value="null" hidden selected>Select Event</option><option value="goal" class="w3-green">Goal</option><option value="assist" class="w3-green">Assist</option><option value="keypass">Key Pass</option><option value="shotontarget">Shot on Target</option><option value="cross">Successful Cross</option><option value="dribble">Successful Dribble</option><option value="dispossesion">Dispossesion</option><option value="own" class="w3-red">Own Goal</option><option value="save">Save</option><option value="interception">Interception</option><option value="tackle">Tackle Won</option><option value="pk" class="w3-green">Penalty Saved</option><option value="yellow" class="w3-yellow">Yellow Card</option><option value="second" class="w3-yellow">Second Yellow</option><option value="red" class="w3-red">Red Card</option><option value="aerial">Aerial Won</option><option value="clear">Effective Clearance</option></select><br/><br/><select class="position"><option value="null" hidden selected>Select Position</option><option value="for">Forward</option><option value="mid">Midfielder</option><option value="def">Defender</option><option value="gk">Goalkeeper</option><option value="sub">Sub</option></select></td>');for(n+="</tr>",i.append(n),o=0;o<players.length;o++)players[o].card=new fifaBadge(document.getElementsByClassName("fifabadge")[o]),players[o].card.name(players[o].name),players[o].card.points(0)}}function event(e){if("concede"===e)for(i=0;i<players.length;i++){var o=players[i].position;"def"!==o&&"gk"!==o||(players[i].points-=2)}else if("clean"===e)for(i=0;i<players.length;i++){var n=players[i].position;"def"===n?players[i].points+=6:"gk"===n&&(players[i].points+=8)}else if("all"===e)for(i=0;i<players.length;i++){var a=players[i].position,t=document.getElementsByClassName("event")[i].value;"null"!==t&&("goal"===t?"for"===a||"mid"===a?players[i].points+=9:"def"!==a&&"gk"!==a||(players[i].points+=10):"assist"===t?"for"===a||"mid"===a?players[i].points+=6:"def"===a?players[i].points+=8:"gk"===a&&(players[i].points+=9):"keypass"===t?"for"===a||"mid"===a||"def"===a?players[i].points+=2:"gk"===a&&(players[i].points+=6):"shotontarget"===t?"for"!==a&&"mid"!==a&&"def"!==a&&"gk"!==a||(players[i].points+=2):"cross"===t||"dribble"===t?"for"!==a&&"mid"!==a&&"def"!==a&&"gk"!==a||(players[i].points+=1):"dispossession"===t?"for"!==a&&"mid"!==a&&"def"!==a&&"gk"!==a||(players[i].points-=.5):"own"===t?"for"!==a&&"mid"!==a&&"def"!==a&&"gk"!==a||(players[i].points-=9):"save"===t?"gk"===a&&(players[i].points+=2):"interception"===t||"tackle"===t?"for"!==a&&"mid"!==a&&"def"!==a&&"gk"!==a||(players[i].points+=1):"pk"===t?"gk"===a&&(players[i].points+=8):"yellow"===t?"for"!==a&&"mid"!==a&&"def"!==a&&"gk"!==a||(players[i].points-=3):"second"===t?"for"!==a&&"mid"!==a&&"def"!==a&&"gk"!==a||(players[i].points-=4):"red"===t?"for"!==a&&"mid"!==a&&"def"!==a&&"gk"!==a||(players[i].points-=7):"aerial"===t?"for"===a||"mid"===a?players[i].points+=.5:"def"!==a&&"gk"!==a||(players[i].points+=1):"clear"===t&&("def"!==a&&"gk"!==a||(players[i].points+=.25)))}for(i=0;i<players.length;i++)document.getElementsByClassName("event")[i].value="null",players[i].card.clear(),players[i].card.points(players[i].points),players[i].card.name(players[i].name),players[i].card.position(String(players[i].position).toUpperCase())}var players="";$("#ready").click(function(){var e=$("#rosterInput").val();for(players=JSON.parse(e),makeInputTable(),i=0;i<players.length;i++)players[i].position="SUB";$("#pre").hide(),$("#main").show()}),$("#concede").click(function(){event("concede")}),$("#clean").click(function(){event("clean")}),$("#submit").click(function(){event("all")}),$("#positions").click(function(){for(i=0;i<players.length;i++){var e=document.getElementsByClassName("position")[i].value;"null"!==e&&"sub"!==e?(players[i].position=e,players[i].card.clear(),players[i].card.points(players[i].points),players[i].card.name(players[i].name),players[i].card.position(e.toUpperCase())):(players[i].card.clear(),players[i].position="sub",players[i].card.position("SUB"),players[i].card.points(players[i].points),players[i].card.name(players[i].name))}});
